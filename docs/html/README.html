<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</head>
<body>
<p><img src="https://oasislmf.org/packages/oasis_theme_package/themes/oasis_theme/assets/src/oasis-lmf-colour.png" alt="Oasis LMF logo" width="250"/></p>
<p><a href="https://github.com/OasisLMF/ktools/releases"><img src="https://img.shields.io/github/tag/Oasislmf/ktools?label=ktools" alt="ktools version" /></a><br />
<a href="https://travis-ci.com/OasisLMF/ktools"><img src="https://img.shields.io/travis/com/OasisLMF/ktools/master?label=Build%20OSX%20" alt="Travis (.com) branch" /></a><br />
<a href="https://ci.oasislmfdev.org/job/oasis_ktools/job/master/"><img src="https://ci.oasislmfdev.org/buildStatus/icon?job=oasis_ktools/master" alt="Build Status" /></a></p>
<h1 id="ktools">ktools</h1>
<p>This is the POSIX-compliant Oasis LMF In-Memory Kernel toolkit.</p>
<h3 id="release">Release</h3>
<p>Please click <a href="https://github.com/OasisLMF/ktools/releases">here</a> to download the latest release.</p>
<p>The source code will change on a regular basis but only the releases are supported. Support enquiries should be sent to <a href="mailto:support@oasislmf.org">support@oasislmf.org</a>.</p>
<p>There are build instructions for Windows 64-bit executables.</p>
<p>Note that the dynamic random number option in the Windows build uses a deterministic seed due to a bug in the mingw compiler. We recommend the random number file option (gulcalc -r) should be used in Windows.</p>
<p>This issue will be handled in future releases by implementing the rdrand random number generator in all environments.</p>
<h2 id="linux-installation">Linux Installation</h2>
<h3 id="pre-requisites">Pre-requisites</h3>
<p>The g++ compiler build-essential, libtool, zlib1g-dev autoconf on debian distros or 'Development Tools' and zlib-devel on red hat needs to be installed in Linux.</p>
<h3 id="instructions">Instructions</h3>
<p>Copy ktools-[version].tar.gz onto your machine and untar.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">tar</span> -xvf ktools-[version].tar.gz</code></pre></div>
<p>Go into the ktools folder and autogen using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="bu">cd</span> ktools-[version]
$ <span class="ex">./autogen.sh</span></code></pre></div>
<p>Configure using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="ex">./configure</span></code></pre></div>
<p>On OS X add an extra flag:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="ex">./configure</span> --enable-osx</code></pre></div>
<p>Make using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">make</span></code></pre></div>
<p>Next run the automated test to check the build and numerical results;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">make</span> check</code></pre></div>
<p>Finally, install the executables using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ [<span class="ex">sudo</span>] make install</code></pre></div>
<p>The installation is complete. The executables are located in /usr/local/bin.</p>
<p>If installing the latest code from the git repository, clone the ktools repository onto your machine.</p>
<p>Go into the ktools folder and autogen using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="bu">cd</span> ktools
$ <span class="ex">./autogen.sh</span></code></pre></div>
<p>Follow the rest of the process as described above.</p>
<h3 id="cmake-build---experimental">Cmake build - Experimental</h3>
<p>Install Cmake from either system packages or <a href="https://cmake.org/download/">cmake.org</a></p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">cmake</span> .</code></pre></div>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">make</span> all test</code></pre></div>
<h2 id="windows-installation">Windows Installation</h2>
<h3 id="pre-requisites-1">Pre-requisites</h3>
<p>MSYS2 64-bit is required for the Windows native build. MSYS2 is a Unix/Linux like development environment for building and distributing windows applications.<br />
<a href="https://www.msys2.org/" class="uri">https://www.msys2.org/</a></p>
<p>Download and run the set-up program for MSYS2 64-bit.</p>
<p>Open a MSYS2 terminal and perform the updates before continuing.</p>
<p>The following add-in packages are required;</p>
<ul>
<li>autoconf</li>
<li>automake</li>
<li>git</li>
<li>libtool</li>
<li>make</li>
<li>mingw-w64-x86_64-toolchain</li>
<li>python</li>
</ul>
<p>These packages can be installed at the MSYS2 terminal command line.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="ex">pacman</span> -S autoconf automake git libtool make mingw-w64-x86_64-toolchain python</code></pre></div>
<p><img src="docs/img/msys2packages.jpg" title="Install add-in packages" alt="alt text" /></p>
<h3 id="instructions-1">Instructions</h3>
<p>Clone the github repository at the MSYS2 terminal command line</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">git</span> clone https://github.com/OasisLMF/ktools.git</code></pre></div>
<p>Go into the ktools folder and run autogen using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="bu">cd</span> ktools
$ <span class="ex">./autogen.sh</span></code></pre></div>
<p>Configure using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="ex">./configure</span></code></pre></div>
<p>Make using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">make</span></code></pre></div>
<p>Next run the automated test to check the build and numerical results;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">make</span> check</code></pre></div>
<p>Finally, install the executables using the following command;</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="fu">make</span> install</code></pre></div>
<p>The installation is complete. The executables are located in /usr/local/bin.</p>
<h2 id="usage">Usage</h2>
<p>There is sample data and six example scripts which demonstrate how to invoke ktools in the /examples folder. These are written in python v2.</p>
<p>For example, to run the eltcalc_example script, go into the examples folder and run the following command (you must have python installed):</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">$ <span class="bu">cd</span> examples
$ <span class="ex">python</span> eltcalc_example.py </code></pre></div>
<p>To build linux docker image do following command</p>
<pre><code>docker build --file Dockerfile.ktools.alpine -t alpine-ktools .</code></pre>
<h2 id="questionsproblems">Questions/problems?</h2>
<p>Email <a href="mailto:support@oasislmf.org">support@oasislmf.org</a></p>
<h2 id="license">License</h2>
<p>The code in this project is licensed under BSD 3-clause license.</p>
</body>
</html>
